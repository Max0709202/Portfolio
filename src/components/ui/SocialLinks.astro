---
import { contact } from '@/data';
import DiscordLink from './social/DiscordLink.astro';
import GitHubLink from './social/GitHubLink.astro';
import LinkedInLink from './social/LinkedInLink.astro';
import MailLink from './social/MailLink.astro';
import WhatsAppLink from './social/WhatsAppLink.astro';

interface Props {
    ariaLabels?: {
        github: string;
        linkedin: string;
        whatsapp: string;
        mail: string;
        discord: string;
    };
    size?: 'sm' | 'md' | 'lg';
    className?: string;
    networks?: ('github' | 'linkedin' | 'whatsapp' | 'mail' | 'discord')[];
}

const {
    ariaLabels = {
        github: 'GitHub',
        linkedin: 'LinkedIn',
        whatsapp: 'WhatsApp',
        mail: 'Email',
        discord: 'Discord'
    },
    size = 'md',
    className = '',
    networks = ['linkedin', 'github', 'discord', 'whatsapp', 'mail']
} = Astro.props;

// Map of component types
const componentMap = {
    github: GitHubLink,
    linkedin: LinkedInLink,
    whatsapp: WhatsAppLink,
    mail: MailLink,
    discord: DiscordLink
};

// Map of social networks configuration
const socialConfig = {
    github: {
        href: contact.social.github,
        ariaLabel: ariaLabels.github
    },
    linkedin: {
        href: contact.social.linkedin,
        ariaLabel: ariaLabels.linkedin
    },
    whatsapp: {
        href: contact.social.whatsapp,
        ariaLabel: ariaLabels.whatsapp
    },
    mail: {
        href: contact.social.mail,
        ariaLabel: ariaLabels.mail
    },
    discord: {
        href: contact.social.discord,
        ariaLabel: ariaLabels.discord
    }
};
---

<div class={`flex gap-4 items-center !mt-8 lg:!mt-6 ${className}`}>
    {
        networks.map((network) => {
            const Component = componentMap[network];
            const config = socialConfig[network];
            return <Component href={config.href} ariaLabel={config.ariaLabel} size={size} />;
        })
    }
</div>
